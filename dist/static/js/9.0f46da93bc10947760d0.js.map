{"version":3,"sources":["webpack:///src/views/orderManager.vue","webpack:///./src/views/orderManager.vue?fdf3","webpack:///./src/views/orderManager.vue"],"names":["orderManager","data","orders","pagination","isLoading","pages","currentPage","methods","getOrders","page","vm","this","$http","get","then","response","computed","sortOrder","newOrder","length","sort","a","b","aIsPaid","is_paid","forEach","value","i","push","parseInt","created","views_orderManager","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","active","on","update:active","$event","_v","_m","_l","item","key","class","text-secondary","_s","_f","create_at","domProps","textContent","user","email","_e","product","title","qty","unit","total","aria-label","disabled","href","click","preventDefault","aria-hidden","staticRenderFns","staticStyle","background","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/9.0f46da93bc10947760d0.js","sourcesContent":["<template>\n  <div class=\"orderbox\">\n    <loading :active.sync=\"isLoading\"></loading>\n    <table class=\"table\">\n      <thead>\n        <tr style=\"background: #c9c9c9;\">\n          <td>訂單日期</td>\n          <td>Email</td>\n          <td>購買款項</td>\n          <td class=\"text-right\">應付金額</td>\n          <td class=\"text-center\">是否付款</td>\n        </tr>\n      </thead>\n      <tbody>\n        <tr\n          v-for=\"(item, key) in sortOrder[currentPage]\"\n          :key=\"key\"\n          v-if=\"orders.length\"\n          :class=\"{'text-secondary': !item.is_paid}\"\n        >\n          <td>{{ item.create_at | dateFilter }}</td>\n          <td>\n            <span v-text=\"item.user.email\" v-if=\"item.user\"></span>\n          </td>\n          <td>\n            <ul class=\"list-unstyled\">\n              <li v-for=\"(product, i) in item.products\" :key=\"i\">\n                {{ product.title }} 數量：{{ product.qty }}\n                {{ product.unit }}\n              </li>\n            </ul>\n          </td>\n          <td class=\"text-right\">{{ item.total | currency }}</td>\n          <td class=\"text-center\">\n            <strong v-if=\"item.is_paid\" class=\"text-success\">已付款</strong>\n            <span v-else class=\"text-muted\">尚未付款</span>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n\n    <!-- 頁籤 -->\n    <nav aria-label=\"Page navigation example\">\n      <ul class=\"pagination mt-3 mt-5\">\n        <li class=\"page-item\" :class=\"{'disabled':currentPage === 0}\">\n          <a href=\"#\" aria-label=\"Previous\" class=\"page-link\" @click.prevent=\"currentPage-=1\">\n            <span aria-hidden=\"true\">«</span>\n            <span class=\"sr-only\">Previous</span>\n          </a>\n        </li>\n        <li\n          class=\"page-item\"\n          :class=\"{'active':currentPage === page - 1}\"\n          v-for=\"page in pages\"\n          :key=\"page\"\n        >\n          <a href=\"#\" class=\"page-link\" @click.prevent=\"currentPage=page-1\">{{page}}</a>\n        </li>\n        <li class=\"page-item\" :class=\"{'disabled':currentPage === sortOrder.length-1}\">\n          <a href=\"#\" aria-label=\"Next\" class=\"page-link\" @click.prevent=\"currentPage+=1\">\n            <span aria-hidden=\"true\">»</span>\n            <span class=\"sr-only\">Next</span>\n          </a>\n        </li>\n      </ul>\n    </nav>\n  </div>\n</template>\n\n<script>\n\n  // import pagination from '@/components/Pagination'\n  export default {\n    data() {\n      return {\n        orders: [],\n        pagination: {},\n        isLoading: false,\n        pages: 0,\n        currentPage: 0,\n      }\n    },\n\n    methods: {\n      getOrders(page) {\n        const vm = this;\n        const api = `${process.env.APIPATH}/customerorder`;\n        vm.isLoading = true\n        this.$http.get(api).then(function (response) {\n          vm.orders = response.data;\n          vm.isLoading = false\n        });\n      },\n      // openDeleteModel(item) {\n      //   this.tempProduct = Object.assign({}, item)\n      //   $(\"#delProductModal\").modal(\"show\");\n      // }\n    },\n    computed: {\n      sortOrder() {\n        const _this = this;\n        let newOrder = [];\n        if (_this.orders.length) {\n          newOrder = _this.orders.sort((a, b) => {\n            const aIsPaid = a.is_paid ? 1 : 0;\n            const bIsPaid = b.is_paid ? 1 : 0;\n            return bIsPaid - aIsPaid;\n          });\n        }\n        const pagination = [];\n        newOrder.forEach((value, i) => {\n          if (i % 15 === 0) {\n            pagination.push([]); //每幾筆就增加一個空白分頁\n          }\n          const page = parseInt(i / 15); //每一個分頁內有幾筆資料\n          pagination[page].push(value)\n        });\n        _this.pages = pagination.length\n        _this.currentPage = 0;\n        return pagination;\n      },\n    },\n    created() {\n      this.getOrders();\n    }\n  };\n</script>\n\n\n<style lang=\"scss\" scoped>\n  @import \"~bootstrap/scss/bootstrap\";\n  @import \"~bootstrap/scss/functions\";\n  .orderbox {\n    padding: 20px;\n    box-sizing: border-box;\n    max-width: 1080px;\n    margin: 10px auto;\n    border: 1px solid #eee;\n  }\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/orderManager.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"orderbox\"},[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_vm._v(\" \"),_c('table',{staticClass:\"table\"},[_vm._m(0),_vm._v(\" \"),_c('tbody',_vm._l((_vm.sortOrder[_vm.currentPage]),function(item,key){return (_vm.orders.length)?_c('tr',{key:key,class:{'text-secondary': !item.is_paid}},[_c('td',[_vm._v(_vm._s(_vm._f(\"dateFilter\")(item.create_at)))]),_vm._v(\" \"),_c('td',[(item.user)?_c('span',{domProps:{\"textContent\":_vm._s(item.user.email)}}):_vm._e()]),_vm._v(\" \"),_c('td',[_c('ul',{staticClass:\"list-unstyled\"},_vm._l((item.products),function(product,i){return _c('li',{key:i},[_vm._v(\"\\n              \"+_vm._s(product.title)+\" 數量：\"+_vm._s(product.qty)+\"\\n              \"+_vm._s(product.unit)+\"\\n            \")])}),0)]),_vm._v(\" \"),_c('td',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm._f(\"currency\")(item.total)))]),_vm._v(\" \"),_c('td',{staticClass:\"text-center\"},[(item.is_paid)?_c('strong',{staticClass:\"text-success\"},[_vm._v(\"已付款\")]):_c('span',{staticClass:\"text-muted\"},[_vm._v(\"尚未付款\")])])]):_vm._e()}),0)]),_vm._v(\" \"),_c('nav',{attrs:{\"aria-label\":\"Page navigation example\"}},[_c('ul',{staticClass:\"pagination mt-3 mt-5\"},[_c('li',{staticClass:\"page-item\",class:{'disabled':_vm.currentPage === 0}},[_c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\",\"aria-label\":\"Previous\"},on:{\"click\":function($event){$event.preventDefault();_vm.currentPage-=1}}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"«\")]),_vm._v(\" \"),_c('span',{staticClass:\"sr-only\"},[_vm._v(\"Previous\")])])]),_vm._v(\" \"),_vm._l((_vm.pages),function(page){return _c('li',{key:page,staticClass:\"page-item\",class:{'active':_vm.currentPage === page - 1}},[_c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();_vm.currentPage=page-1}}},[_vm._v(_vm._s(page))])])}),_vm._v(\" \"),_c('li',{staticClass:\"page-item\",class:{'disabled':_vm.currentPage === _vm.sortOrder.length-1}},[_c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\",\"aria-label\":\"Next\"},on:{\"click\":function($event){$event.preventDefault();_vm.currentPage+=1}}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"»\")]),_vm._v(\" \"),_c('span',{staticClass:\"sr-only\"},[_vm._v(\"Next\")])])])],2)])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',{staticStyle:{\"background\":\"#c9c9c9\"}},[_c('td',[_vm._v(\"訂單日期\")]),_vm._v(\" \"),_c('td',[_vm._v(\"Email\")]),_vm._v(\" \"),_c('td',[_vm._v(\"購買款項\")]),_vm._v(\" \"),_c('td',{staticClass:\"text-right\"},[_vm._v(\"應付金額\")]),_vm._v(\" \"),_c('td',{staticClass:\"text-center\"},[_vm._v(\"是否付款\")])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-322964a2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/orderManager.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-322964a2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./orderManager.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./orderManager.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./orderManager.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-322964a2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./orderManager.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-322964a2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/orderManager.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}