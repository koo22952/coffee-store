webpackJsonp([6],{JeaK:function(t,s){},aodd:function(t,s){},"x/ka":function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=i("woOf"),a=i.n(e),n=(i("v2ns"),i("7QTg")),r={components:{swiper:n.swiper,swiperSlide:n.swiperSlide},data:function(){return{swiperOption:{slidesPerView:4,spaceBetween:10,loop:!0,speed:600,autoplay:{delay:5e3},pagination:{el:".swiper-pagination",dynamicBullets:!0},breakpoints:{535:{slidesPerView:1,spaceBetween:10},813:{slidesPerView:2,spaceBetween:20},1060:{slidesPerView:3,spaceBetween:20}}},products:[],isLoading:!1}},methods:{is_sale:function(t){return parseInt(t.origin_price)>parseInt(t.sale_price)},getProducts:function(){var t=this,s="https://nameless-forest-65777.herokuapp.com/product?id_ne="+this.$route.params.id+"&is_enabled=1";t.$http.get(s).then(function(s){t.products=s.data})},getProduct:function(t){var s=this,i="https://nameless-forest-65777.herokuapp.com/product/"+t;s.$http.get(i).then(function(i){s.$router.push("/productdetail/"+t),s.$emit("getDetail",t),s.getProducts()})},addCart:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=this;i.isLoading=!0;var e=a()({},t);e.qty=s,e.id="",i.$http.post("https://nameless-forest-65777.herokuapp.com/cart",e).then(function(t){i.$bus.$emit("cartlength",{length:1}),i.isLoading=!1})}},created:function(){this.getProducts()}},c={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",[i("loading",{attrs:{loader:"bars",color:"#32312f",active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}}),t._v(" "),i("div",{staticClass:"product_list"},[i("p",{staticClass:"maybe"},[t._v("你可能會喜歡")]),t._v(" "),i("swiper",{attrs:{options:t.swiperOption}},[t._l(t.products,function(s,e){return i("swiper-slide",{key:s.id},[i("div",{staticClass:"prod"},[i("div",{staticClass:"img",on:{click:function(i){return t.getProduct(s.id)}}},[s.is_newarrive?i("span",{staticClass:"new"},[t._v("NEW")]):t._e(),t._v(" "),t.is_sale(s)?i("span",{staticClass:"sale"},[t._v("SALE")]):t._e(),t._v(" "),i("img",{attrs:{src:s.imageUrl,alt:""}})]),t._v(" "),i("div",{staticClass:"prodTitle"},[i("p",[t._v(t._s(s.title))])]),t._v(" "),i("div",[i("span",{staticClass:"price",class:{originalPrice:t.is_sale(s)}},[t._v(t._s(t._f("currency")(s.origin_price)))]),t._v(" "),t.is_sale(s)?i("span",{staticClass:"salePrice"},[t._v(t._s(t._f("currency")(s.sale_price)))]):t._e()])]),t._v(" "),i("div",{staticClass:"btn",on:{click:function(i){return t.addCart(s)}}},[t._v("加入購物車")])])}),t._v(" "),i("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)],1)],1)},staticRenderFns:[]};var o={name:"productdetail",components:{maybe:i("VU/8")(r,c,!1,function(t){i("aodd")},"data-v-7db77440",null).exports},data:function(){return{isLoading:!1,product:{},qty:1}},methods:{is_sale:function(t){return parseInt(t.origin_price)>parseInt(t.sale_price)},getProduct:function(t){var s=this,i="https://nameless-forest-65777.herokuapp.com/product/"+s.$route.params.id;s.isLoading=!0,this.$http.get(i).then(function(t){s.product=t.data,setTimeout(function(){s.isLoading=!1},500)})},operation:function(t){t&&(this.qty+=1),!t&&this.qty>1&&(this.qty-=1)},addCart:function(){var t=this;t.isLoading=!0;var s=a()({},t.product);s.qty=t.qty,s.id="",t.$http.post("https://nameless-forest-65777.herokuapp.com/cart",s).then(function(s){t.qty=1,t.$bus.$emit("cartlength",{length:1}),t.isLoading=!1})}},created:function(){this.getProduct()}},d={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",[i("loading",{attrs:{loader:"bars",color:"#32312f",active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}}),t._v(" "),i("div",{staticClass:"prdDetail"},[i("ul",{staticClass:"menu"},[i("li",[i("router-link",{attrs:{to:"/"}},[t._v("首頁")]),t._v(" "),t._m(0)],1),t._v(" "),i("li",[i("router-link",{attrs:{to:"/productlist"}},[t._v(t._s(t.product.category))]),t._v(" "),t._m(1)],1),t._v(" "),i("li",[t._v(t._s(t.product.title))])]),t._v(" "),i("div",{staticClass:"detail_item"},[i("div",{staticClass:"img"},[i("div",[t.product.is_newarrive?i("span",{staticClass:"new"},[t._v("NEW")]):t._e(),t._v(" "),t.is_sale(t.product)?i("span",{staticClass:"sale"},[t._v("SALE")]):t._e(),t._v(" "),i("img",{attrs:{src:t.product.imageUrl,alt:""}})])]),t._v(" "),i("div",{staticClass:"content"},[i("h4",{staticClass:"content_title"},[t._v(t._s(t.product.title))]),t._v(" "),i("div",{staticClass:"content_cont"},[i("p",{staticClass:"p1"},[t._v(t._s(t.product.description))]),t._v(" "),i("p",{staticClass:"p2"},[t._v("商品描述：")]),t._v(" "),i("p",{staticClass:"p3"},[t._v(t._s(t.product.content))])]),t._v(" "),i("div",{staticClass:"pricelist"},[i("span",{staticClass:"price",class:{originalPrice:t.is_sale(t.product)}},[t._v(t._s(t._f("currency")(t.product.origin_price)))]),t._v(" "),t.is_sale(t.product)?i("span",{staticClass:"salePrice"},[t._v(t._s(t._f("currency")(t.product.sale_price)))]):t._e()]),t._v(" "),i("div",{attrs:{id:"proform",prevent:""}},[i("div",{staticClass:"product_number"},[i("label",{attrs:{for:"quantity"}},[t._v("數量")]),t._v(" "),i("div",{staticClass:"wan_spinner"},[i("a",{staticClass:"minus",attrs:{href:"#",disabled:""},on:{click:function(s){return s.preventDefault(),t.operation(!1)}}},[t._v("-")]),t._v(" "),i("input",{attrs:{id:"quantity",name:"quantity",type:"text"},domProps:{value:t.qty}}),t._v(" "),i("a",{staticClass:"plus",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.operation(!0)}}},[t._v("+")])])]),t._v(" "),i("div",{staticClass:"product_btn"},[i("div",{staticClass:"products_addcart",on:{click:t.addCart}},[t._v("加入購物車")])])])])]),t._v(" "),i("maybe",{on:{getDetail:t.getProduct}}),t._v(" "),i("hr")],1)],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("span",[s("i",{staticClass:"fas fa-chevron-right"})])},function(){var t=this.$createElement,s=this._self._c||t;return s("span",[s("i",{staticClass:"fas fa-chevron-right"})])}]};var l=i("VU/8")(o,d,!1,function(t){i("JeaK")},"data-v-35aabb86",null);s.default=l.exports}});
//# sourceMappingURL=6.1e83c788ad8a97c4d8c1.js.map