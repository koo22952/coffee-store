{"version":3,"sources":["webpack:///src/views/orderManager.vue","webpack:///./src/views/orderManager.vue?1fbf","webpack:///./src/views/orderManager.vue"],"names":["orderManager","data","orders","pagination","isLoading","pages","currentPage","methods","getOrders","page","vm","this","$http","get","then","response","computed","sortOrder","newOrder","length","sort","a","b","aIsPaid","is_paid","forEach","value","i","push","parseInt","created","views_orderManager","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","active","on","update:active","$event","_v","_m","_l","item","key","class","text-secondary","_s","_f","create_at","domProps","textContent","user","email","_e","product","title","qty","unit","total","aria-label","disabled","href","click","preventDefault","aria-hidden","staticRenderFns","staticStyle","background","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/8.9986676d1766b4d6512a.js","sourcesContent":["<template>\r\n  <div class=\"orderbox\">\r\n    <loading :active.sync=\"isLoading\"></loading>\r\n    <table class=\"table\">\r\n      <thead>\r\n        <tr style=\"background: #c9c9c9;\">\r\n          <td>訂單日期</td>\r\n          <td>Email</td>\r\n          <td>購買款項</td>\r\n          <td class=\"text-right\">應付金額</td>\r\n          <td class=\"text-center\">是否付款</td>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr\r\n          v-for=\"(item, key) in sortOrder[currentPage]\"\r\n          :key=\"key\"\r\n          v-if=\"orders.length\"\r\n          :class=\"{'text-secondary': !item.is_paid}\"\r\n        >\r\n          <td>{{ item.create_at | dateFilter }}</td>\r\n          <td>\r\n            <span v-text=\"item.user.email\" v-if=\"item.user\"></span>\r\n          </td>\r\n          <td>\r\n            <ul class=\"list-unstyled\">\r\n              <li v-for=\"(product, i) in item.products\" :key=\"i\">\r\n                {{ product.title }} 數量：{{ product.qty }}\r\n                {{ product.unit }}\r\n              </li>\r\n            </ul>\r\n          </td>\r\n          <td class=\"text-right\">{{ item.total | currency }}</td>\r\n          <td class=\"text-center\">\r\n            <strong v-if=\"item.is_paid\" class=\"text-success\">已付款</strong>\r\n            <span v-else class=\"text-muted\">尚未付款</span>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n\r\n    <!-- 頁籤 -->\r\n    <nav aria-label=\"Page navigation example\">\r\n      <ul class=\"pagination mt-3 mt-5\">\r\n        <li class=\"page-item\" :class=\"{'disabled':currentPage === 0}\">\r\n          <a href=\"#\" aria-label=\"Previous\" class=\"page-link\" @click.prevent=\"currentPage-=1\">\r\n            <span aria-hidden=\"true\">«</span>\r\n            <span class=\"sr-only\">Previous</span>\r\n          </a>\r\n        </li>\r\n        <li\r\n          class=\"page-item\"\r\n          :class=\"{'active':currentPage === page - 1}\"\r\n          v-for=\"page in pages\"\r\n          :key=\"page\"\r\n        >\r\n          <a href=\"#\" class=\"page-link\" @click.prevent=\"currentPage=page-1\">{{page}}</a>\r\n        </li>\r\n        <li class=\"page-item\" :class=\"{'disabled':currentPage === sortOrder.length-1}\">\r\n          <a href=\"#\" aria-label=\"Next\" class=\"page-link\" @click.prevent=\"currentPage+=1\">\r\n            <span aria-hidden=\"true\">»</span>\r\n            <span class=\"sr-only\">Next</span>\r\n          </a>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\n  // import pagination from '@/components/Pagination'\r\n  export default {\r\n    data() {\r\n      return {\r\n        orders: [],\r\n        pagination: {},\r\n        isLoading: false,\r\n        pages: 0,\r\n        currentPage: 0,\r\n      }\r\n    },\r\n\r\n    methods: {\r\n      getOrders(page) {\r\n        const vm = this;\r\n        const api = `${process.env.APIPATH}/customerorder`;\r\n        vm.isLoading = true\r\n        this.$http.get(api).then(function (response) {\r\n          vm.orders = response.data;\r\n          vm.isLoading = false\r\n        });\r\n      },\r\n      // openDeleteModel(item) {\r\n      //   this.tempProduct = Object.assign({}, item)\r\n      //   $(\"#delProductModal\").modal(\"show\");\r\n      // }\r\n    },\r\n    computed: {\r\n      sortOrder() {\r\n        const _this = this;\r\n        let newOrder = [];\r\n        if (_this.orders.length) {\r\n          newOrder = _this.orders.sort((a, b) => {\r\n            const aIsPaid = a.is_paid ? 1 : 0;\r\n            const bIsPaid = b.is_paid ? 1 : 0;\r\n            return bIsPaid - aIsPaid;\r\n          });\r\n        }\r\n        const pagination = [];\r\n        newOrder.forEach((value, i) => {\r\n          if (i % 15 === 0) {\r\n            pagination.push([]); //每幾筆就增加一個空白分頁\r\n          }\r\n          const page = parseInt(i / 15); //每一個分頁內有幾筆資料\r\n          pagination[page].push(value)\r\n        });\r\n        _this.pages = pagination.length\r\n        _this.currentPage = 0;\r\n        return pagination;\r\n      },\r\n    },\r\n    created() {\r\n      this.getOrders();\r\n    }\r\n  };\r\n</script>\r\n\r\n\r\n<style lang=\"scss\" scoped>\r\n  @import \"~bootstrap/scss/bootstrap\";\r\n  @import \"~bootstrap/scss/functions\";\r\n  .orderbox {\r\n    padding: 20px;\r\n    box-sizing: border-box;\r\n    max-width: 1080px;\r\n    margin: 10px auto;\r\n    border: 1px solid #eee;\r\n  }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/orderManager.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"orderbox\"},[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_vm._v(\" \"),_c('table',{staticClass:\"table\"},[_vm._m(0),_vm._v(\" \"),_c('tbody',_vm._l((_vm.sortOrder[_vm.currentPage]),function(item,key){return (_vm.orders.length)?_c('tr',{key:key,class:{'text-secondary': !item.is_paid}},[_c('td',[_vm._v(_vm._s(_vm._f(\"dateFilter\")(item.create_at)))]),_vm._v(\" \"),_c('td',[(item.user)?_c('span',{domProps:{\"textContent\":_vm._s(item.user.email)}}):_vm._e()]),_vm._v(\" \"),_c('td',[_c('ul',{staticClass:\"list-unstyled\"},_vm._l((item.products),function(product,i){return _c('li',{key:i},[_vm._v(\"\\n              \"+_vm._s(product.title)+\" 數量：\"+_vm._s(product.qty)+\"\\n              \"+_vm._s(product.unit)+\"\\n            \")])}),0)]),_vm._v(\" \"),_c('td',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm._f(\"currency\")(item.total)))]),_vm._v(\" \"),_c('td',{staticClass:\"text-center\"},[(item.is_paid)?_c('strong',{staticClass:\"text-success\"},[_vm._v(\"已付款\")]):_c('span',{staticClass:\"text-muted\"},[_vm._v(\"尚未付款\")])])]):_vm._e()}),0)]),_vm._v(\" \"),_c('nav',{attrs:{\"aria-label\":\"Page navigation example\"}},[_c('ul',{staticClass:\"pagination mt-3 mt-5\"},[_c('li',{staticClass:\"page-item\",class:{'disabled':_vm.currentPage === 0}},[_c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\",\"aria-label\":\"Previous\"},on:{\"click\":function($event){$event.preventDefault();_vm.currentPage-=1}}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"«\")]),_vm._v(\" \"),_c('span',{staticClass:\"sr-only\"},[_vm._v(\"Previous\")])])]),_vm._v(\" \"),_vm._l((_vm.pages),function(page){return _c('li',{key:page,staticClass:\"page-item\",class:{'active':_vm.currentPage === page - 1}},[_c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();_vm.currentPage=page-1}}},[_vm._v(_vm._s(page))])])}),_vm._v(\" \"),_c('li',{staticClass:\"page-item\",class:{'disabled':_vm.currentPage === _vm.sortOrder.length-1}},[_c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\",\"aria-label\":\"Next\"},on:{\"click\":function($event){$event.preventDefault();_vm.currentPage+=1}}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"»\")]),_vm._v(\" \"),_c('span',{staticClass:\"sr-only\"},[_vm._v(\"Next\")])])])],2)])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',{staticStyle:{\"background\":\"#c9c9c9\"}},[_c('td',[_vm._v(\"訂單日期\")]),_vm._v(\" \"),_c('td',[_vm._v(\"Email\")]),_vm._v(\" \"),_c('td',[_vm._v(\"購買款項\")]),_vm._v(\" \"),_c('td',{staticClass:\"text-right\"},[_vm._v(\"應付金額\")]),_vm._v(\" \"),_c('td',{staticClass:\"text-center\"},[_vm._v(\"是否付款\")])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7c351652\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/orderManager.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7c351652\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./orderManager.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./orderManager.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./orderManager.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7c351652\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./orderManager.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7c351652\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/orderManager.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}