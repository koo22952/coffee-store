webpackJsonp([1],{"/bQp":function(t,e){t.exports={}},"3fs2":function(t,e,s){var r=s("RY/4"),a=s("dSzd")("iterator"),i=s("/bQp");t.exports=s("FeBl").getIteratorMethod=function(t){if(void 0!=t)return t[a]||t["@@iterator"]||i[r(t)]}},"5zde":function(t,e,s){s("zQR9"),s("qyJz"),t.exports=s("FeBl").Array.from},"880/":function(t,e,s){t.exports=s("hJx8")},"94VQ":function(t,e,s){"use strict";var r=s("Yobk"),a=s("X8DO"),i=s("e6n0"),n={};s("hJx8")(n,s("dSzd")("iterator"),function(){return this}),t.exports=function(t,e,s){t.prototype=r(n,{next:a(1,s)}),i(t,e+" Iterator")}},"9fp+":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s("c/Tr"),a=s.n(r),i=s("woOf"),n=s.n(i),o={name:"checkout",data:function(){return{cartList:[],form:{user:{name:"",email:"",tel:"",address:""},is_paid:!1,message:"",products:[]},isLoading:!1}},computed:{newCartList:function(){return this.cartList.map(function(t){var e=n()({},t);return e.price,void 0!=e.sale_price&&""!=e.sale_price||(e.sale_price=e.origin_price),parseInt(e.origin_price)>parseInt(e.sale_price)?e.price=e.sale_price:e.price=e.origin_price,e})},cartTotal:function(){return a()(this.newCartList).reduce(function(t,e){return t+parseInt(e.price,10)},0)}},methods:{goback:function(){this.$router.go(-1)},getcart:function(){var t=this;t.isLoading=!0,t.$http.get("https://nameless-forest-65777.herokuapp.com/cart").then(function(e){t.cartList=e.data,t.isLoading=!1})},removeCart:function(t){var e=this,s="https://nameless-forest-65777.herokuapp.com/cart/"+t;e.isLoading=!0,e.$http.delete(s).then(function(t){e.getcart(),e.isLoading=!1,setTimeout(function(){e.$bus.$emit("cartlength",{length:-1})},1e3)})},createdOrder:function(){var t=this,e=Math.floor(new Date/1e3),s=t.form;s.create_at=e,s.total=t.cartTotal,s.products=t.cartList,this.$validator.validate().then(function(e){e&&(t.isLoading=!0,t.$http.post("https://nameless-forest-65777.herokuapp.com/customerorder",s).then(function(e){t.$router.push("/confirm/"+e.data.id),t.$bus.$emit("fakecartlength",{}),t.isLoading=!1}))})}},created:function(){var t=this;this.getcart(),this.$bus.$on("delitem",function(e){t.getcart()})},beforeDestroy:function(){this.$bus.$off("delitem")}},c={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("loading",{attrs:{loader:"bars",color:"#32312f",active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),t._v(" "),r("div",{staticClass:"container-fluid"},[t._m(0),t._v(" "),r("div",{staticClass:"row justify-content-center mt-5"},[r("div",{staticClass:"col-lg-8 col-md-11"},[r("div",{staticClass:"card border-0"},[r("div",{staticClass:"card-header d-flex align-items-center py-0",attrs:{id:"headingOne"}},[r("button",{staticClass:"btn btn-link pl-0",attrs:{type:"button","data-toggle":"collapse","data-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne"}},[t._v("顯示購物車細節")]),t._v(" "),r("span",{staticClass:"h3 ml-auto m-1"},[t._v(t._s(t._f("currency")(t.cartTotal)))])]),t._v(" "),r("div",{staticClass:"collapse",attrs:{id:"collapseOne","aria-labelledby":"headingOne","data-parent":"#headingOne"}},[t.cartList.length?t._e():r("div",{staticClass:"text-center py-4 mt-3"},[r("h6",{staticClass:"display-4"},[t._v("購物車是空的!")]),t._v(" "),r("img",{staticClass:"mt-3",attrs:{src:s("Pgr7"),width:"100",alt:""}})]),t._v(" "),t.cartList.length?r("table",{staticClass:"table"},[t._m(1),t._v(" "),r("tbody",[t._l(t.newCartList,function(e,s){return r("tr",{key:e.id},[r("th",{staticClass:"align-middle",attrs:{scope:"row"}},[r("a",{attrs:{href:"#","data-title":e.title},on:{click:function(s){return s.preventDefault(),t.removeCart(e.id)}}},[r("i",{staticClass:"fas fa-trash-alt fa-lg"})])]),t._v(" "),r("th",[r("img",{staticClass:"align-middle d-md-inline d-none",staticStyle:{"max-width":"100px"},attrs:{src:e.imageUrl,alt:""}})]),t._v(" "),r("td",{staticClass:"align-middle"},[t._v(t._s(e.title))]),t._v(" "),r("td",{staticClass:"align-middle text-center"},[t._v(t._s(e.qty))]),t._v(" "),r("td",{staticClass:"align-middle text-right"},[t._v(t._s(t._f("currency")(e.qty*e.price)))])])}),t._v(" "),r("tr",[r("td",{staticClass:"text-right align-bottom",attrs:{colspan:"4"}},[t._v("合計")]),t._v(" "),r("td",{staticClass:"text-right"},[r("strong",{staticClass:"h4"},[t._v(t._s(t._f("currency")(t.cartTotal)))])])])],2)]):t._e()])]),t._v(" "),r("h3",{staticClass:"meg text-center mt-5"},[t._v("訂購人資訊")]),t._v(" "),r("form",{staticClass:"mb-5",attrs:{autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.createdOrder(e)}}},[r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-group col-md-6"},[r("label",{staticClass:"font-weight-bold",attrs:{for:"inputName"}},[t._v("姓名")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.name,expression:"form.user.name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("name")},attrs:{type:"text",id:"inputName",name:"name",placeholder:"請輸入姓名"},domProps:{value:t.form.user.name},on:{input:function(e){e.target.composing||t.$set(t.form.user,"name",e.target.value)}}}),t._v(" "),t.errors.has("name")?r("span",{staticClass:"text-danger",staticStyle:{"font-size":"14px"}},[t._v("姓名必須輸入")]):t._e()]),t._v(" "),r("div",{staticClass:"form-group col-md-6"},[r("label",{staticClass:"font-weight-bold",attrs:{for:"inputphone"}},[t._v("電話")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.tel,expression:"form.user.tel"},{name:"validate",rawName:"v-validate",value:{required:!0,regex:/^[09]{2}[0-9]{8}$/},expression:"{ required: true, regex: /^[09]{2}[0-9]{8}$/ }"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("tel")},attrs:{type:"text",id:"inputphone",placeholder:"請輸入電話",name:"tel"},domProps:{value:t.form.user.tel},on:{input:function(e){e.target.composing||t.$set(t.form.user,"tel",e.target.value)}}}),t._v(" "),t.errors.has("tel")?r("span",{staticClass:"text-danger",staticStyle:{"font-size":"14px"}},[t._v("請輸入十碼正確手機號碼")]):t._e()])]),t._v(" "),r("div",{staticClass:"form-group"},[r("label",{staticClass:"font-weight-bold",attrs:{for:"inputEmail"}},[t._v("Email")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.email,expression:"form.user.email"},{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("email")},attrs:{type:"email",id:"inputEmail",placeholder:"請輸入 Email",name:"email"},domProps:{value:t.form.user.email},on:{input:function(e){e.target.composing||t.$set(t.form.user,"email",e.target.value)}}}),t._v(" "),r("span",{staticClass:"text-danger",staticStyle:{"font-size":"14px"}},[t._v(t._s(t.errors.first("email")))])]),t._v(" "),r("div",{staticClass:"form-group"},[r("label",{staticClass:"font-weight-bold",attrs:{for:"inputAddress"}},[t._v("地址")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.address,expression:"form.user.address"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("address")},attrs:{type:"text",id:"inputAddress",name:"address",placeholder:"台北市信義區市府路1號"},domProps:{value:t.form.user.address},on:{input:function(e){e.target.composing||t.$set(t.form.user,"address",e.target.value)}}}),t._v(" "),t.errors.has("address")?r("span",{staticClass:"text-danger",staticStyle:{"font-size":"14px"}},[t._v("地址欄位不得留空")]):t._e()]),t._v(" "),r("div",{staticClass:"form-group"},[r("label",{staticClass:"font-weight-bold",attrs:{for:"otherMeg"}},[t._v("特殊需求")]),t._v(" "),r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.message,expression:"form.message"}],staticClass:"form-control",attrs:{id:"otherMeg",name:"message",rows:"3"},domProps:{value:t.form.message},on:{input:function(e){e.target.composing||t.$set(t.form,"message",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"text-right"},[r("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:t.goback}},[t._v("繼續選購")]),t._v(" "),t.cartList.length?r("button",{staticClass:"btn btn-btncolor",attrs:{type:"submit"}},[t._v("訂單確認")]):t._e()])])])])])],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"checkout_nav"},[s("div",{staticClass:"step",attrs:{href:"#"}},[s("span",{staticClass:"badge line_one active"},[s("span",{staticClass:"text"},[t._v("1")])]),t._v(" "),s("span",[t._v("購物車")])]),t._v(" "),s("div",{staticClass:"step"},[s("span",{staticClass:"badge"},[s("span",{staticClass:"text"},[t._v("2")])]),t._v(" "),s("span",[t._v("訂單確認")])]),t._v(" "),s("div",{staticClass:"step"},[s("span",{staticClass:"badge line_thr"},[s("span",{staticClass:"text"},[t._v("3")])]),t._v(" "),s("span",[t._v("訂單完成")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",{attrs:{scope:"col",width:"30px"}}),this._v(" "),e("th",{attrs:{scope:"col"}}),this._v(" "),e("th",{attrs:{scope:"col"}},[this._v("商品名稱")]),this._v(" "),e("th",{attrs:{scope:"col",width:"56px"}},[this._v("數量")]),this._v(" "),e("th",{staticClass:"text-right",attrs:{scope:"col"}},[this._v("小記")])])])}]};var l=s("VU/8")(o,c,!1,function(t){s("s8Et")},"data-v-20b7d450",null);e.default=l.exports},Mhyx:function(t,e,s){var r=s("/bQp"),a=s("dSzd")("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||i[a]===t)}},Pgr7:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTYuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB3aWR0aD0iNDQ2Ljg1M3B4IiBoZWlnaHQ9IjQ0Ni44NTNweCIgdmlld0JveD0iMCAwIDQ0Ni44NTMgNDQ2Ljg1MyIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDQ2Ljg1MyA0NDYuODUzOyIKCSB4bWw6c3BhY2U9InByZXNlcnZlIj4KPGc+Cgk8cGF0aCBkPSJNNDQ0LjI3NCw5My4zNmMtMi41NTgtMy42NjYtNi42NzQtNS45MzItMTEuMTQ1LTYuMTIzTDE1NS45NDIsNzUuMjg5Yy03Ljk1My0wLjM0OC0xNC41OTksNS43OTItMTQuOTM5LDEzLjcwOAoJCWMtMC4zMzgsNy45MTMsNS43OTIsMTQuNTk5LDEzLjcwNywxNC45MzlsMjU4LjQyMSwxMS4xNEwzNjIuMzIsMjczLjYxSDEzNi4yMDVMOTUuMzU0LDUxLjE3OQoJCWMtMC44OTgtNC44NzUtNC4yNDUtOC45NDItOC44NjEtMTAuNzUzTDE5LjU4NiwxNC4xNDFjLTcuMzc0LTIuODg3LTE1LjY5NSwwLjczNS0xOC41OTEsOC4xYy0yLjg5MSw3LjM2OSwwLjczLDE1LjY5NSw4LjEsMTguNTkxCgkJbDU5LjQ5MSwyMy4zNzFsNDEuNTcyLDIyNi4zMzVjMS4yNTMsNi44MDQsNy4xODMsMTEuNzQ2LDE0LjEwNCwxMS43NDZoNi44OTZsLTE1Ljc0Nyw0My43NGMtMS4zMTgsMy42NjQtMC43NzUsNy43MzMsMS40NjgsMTAuOTE2CgkJYzIuMjQsMy4xODQsNS44ODMsNS4wNzgsOS43NzIsNS4wNzhoMTEuMDQ1Yy02Ljg0NCw3LjYxNy0xMS4wNDUsMTcuNjQ2LTExLjA0NSwyOC42NzVjMCwyMy43MTgsMTkuMjk5LDQzLjAxMiw0My4wMTIsNDMuMDEyCgkJczQzLjAxMi0xOS4yOTQsNDMuMDEyLTQzLjAxMmMwLTExLjAyOC00LjIwMS0yMS4wNTgtMTEuMDQ0LTI4LjY3NWg5My43NzdjLTYuODQ3LDcuNjE3LTExLjA0NywxNy42NDYtMTEuMDQ3LDI4LjY3NQoJCWMwLDIzLjcxOCwxOS4yOTQsNDMuMDEyLDQzLjAxMiw0My4wMTJjMjMuNzE5LDAsNDMuMDEyLTE5LjI5NCw0My4wMTItNDMuMDEyYzAtMTEuMDI4LTQuMi0yMS4wNTgtMTEuMDQyLTI4LjY3NWgxMy40MzIKCQljNi42LDAsMTEuOTQ4LTUuMzQ5LDExLjk0OC0xMS45NDdjMC02LjYtNS4zNDktMTEuOTQ4LTExLjk0OC0xMS45NDhIMTQzLjY1MWwxMi45MDItMzUuODQzaDIxNi4yMjEKCQljNi4yMzUsMCwxMS43NTItNC4wMjgsMTMuNjUxLTkuOTZsNTkuNzM5LTE4Ni4zODdDNDQ3LjUzNiwxMDEuNjc5LDQ0Ni44MzIsOTcuMDI4LDQ0NC4yNzQsOTMuMzZ6IE0xNjkuNjY0LDQwOS44MTQKCQljLTEwLjU0MywwLTE5LjExNy04LjU3My0xOS4xMTctMTkuMTE2czguNTc0LTE5LjExNywxOS4xMTctMTkuMTE3czE5LjExNiw4LjU3NCwxOS4xMTYsMTkuMTE3UzE4MC4yMDcsNDA5LjgxNCwxNjkuNjY0LDQwOS44MTR6CgkJIE0zMjcuMzczLDQwOS44MTRjLTEwLjU0MywwLTE5LjExNi04LjU3My0xOS4xMTYtMTkuMTE2czguNTczLTE5LjExNywxOS4xMTYtMTkuMTE3czE5LjExNiw4LjU3NCwxOS4xMTYsMTkuMTE3CgkJUzMzNy45MTYsNDA5LjgxNCwzMjcuMzczLDQwOS44MTR6Ii8+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPC9zdmc+Cg=="},PzxK:function(t,e,s){var r=s("D2L2"),a=s("sB3e"),i=s("ax3d")("IE_PROTO"),n=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=a(t),r(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?n:null}},RPLV:function(t,e,s){var r=s("7KvD").document;t.exports=r&&r.documentElement},"RY/4":function(t,e,s){var r=s("R9M2"),a=s("dSzd")("toStringTag"),i="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,s,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(s=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),a))?s:i?r(e):"Object"==(n=r(e))&&"function"==typeof e.callee?"Arguments":n}},Yobk:function(t,e,s){var r=s("77Pl"),a=s("qio6"),i=s("xnc9"),n=s("ax3d")("IE_PROTO"),o=function(){},c=function(){var t,e=s("ON07")("iframe"),r=i.length;for(e.style.display="none",s("RPLV").appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;r--;)delete c.prototype[i[r]];return c()};t.exports=Object.create||function(t,e){var s;return null!==t?(o.prototype=r(t),s=new o,o.prototype=null,s[n]=t):s=c(),void 0===e?s:a(s,e)}},"c/Tr":function(t,e,s){t.exports={default:s("5zde"),__esModule:!0}},dSzd:function(t,e,s){var r=s("e8AB")("wks"),a=s("3Eo+"),i=s("7KvD").Symbol,n="function"==typeof i;(t.exports=function(t){return r[t]||(r[t]=n&&i[t]||(n?i:a)("Symbol."+t))}).store=r},dY0y:function(t,e,s){var r=s("dSzd")("iterator"),a=!1;try{var i=[7][r]();i.return=function(){a=!0},Array.from(i,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!a)return!1;var s=!1;try{var i=[7],n=i[r]();n.next=function(){return{done:s=!0}},i[r]=function(){return n},t(i)}catch(t){}return s}},e6n0:function(t,e,s){var r=s("evD5").f,a=s("D2L2"),i=s("dSzd")("toStringTag");t.exports=function(t,e,s){t&&!a(t=s?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},fBQ2:function(t,e,s){"use strict";var r=s("evD5"),a=s("X8DO");t.exports=function(t,e,s){e in t?r.f(t,e,a(0,s)):t[e]=s}},h65t:function(t,e,s){var r=s("UuGF"),a=s("52gC");t.exports=function(t){return function(e,s){var i,n,o=String(a(e)),c=r(s),l=o.length;return c<0||c>=l?t?"":void 0:(i=o.charCodeAt(c))<55296||i>56319||c+1===l||(n=o.charCodeAt(c+1))<56320||n>57343?t?o.charAt(c):i:t?o.slice(c,c+2):n-56320+(i-55296<<10)+65536}}},msXi:function(t,e,s){var r=s("77Pl");t.exports=function(t,e,s,a){try{return a?e(r(s)[0],s[1]):e(s)}catch(e){var i=t.return;throw void 0!==i&&r(i.call(t)),e}}},qio6:function(t,e,s){var r=s("evD5"),a=s("77Pl"),i=s("lktj");t.exports=s("+E39")?Object.defineProperties:function(t,e){a(t);for(var s,n=i(e),o=n.length,c=0;o>c;)r.f(t,s=n[c++],e[s]);return t}},qyJz:function(t,e,s){"use strict";var r=s("+ZMJ"),a=s("kM2E"),i=s("sB3e"),n=s("msXi"),o=s("Mhyx"),c=s("QRG4"),l=s("fBQ2"),u=s("3fs2");a(a.S+a.F*!s("dY0y")(function(t){Array.from(t)}),"Array",{from:function(t){var e,s,a,d,v=i(t),f="function"==typeof this?this:Array,p=arguments.length,m=p>1?arguments[1]:void 0,M=void 0!==m,g=0,N=u(v);if(M&&(m=r(m,p>2?arguments[2]:void 0,2)),void 0==N||f==Array&&o(N))for(s=new f(e=c(v.length));e>g;g++)l(s,g,M?m(v[g],g):v[g]);else for(d=N.call(v),s=new f;!(a=d.next()).done;g++)l(s,g,M?n(d,m,[a.value,g],!0):a.value);return s.length=g,s}})},s8Et:function(t,e){},"vIB/":function(t,e,s){"use strict";var r=s("O4g8"),a=s("kM2E"),i=s("880/"),n=s("hJx8"),o=s("/bQp"),c=s("94VQ"),l=s("e6n0"),u=s("PzxK"),d=s("dSzd")("iterator"),v=!([].keys&&"next"in[].keys()),f=function(){return this};t.exports=function(t,e,s,p,m,M,g){c(s,e,p);var N,y,C,x=function(t){if(!v&&t in j)return j[t];switch(t){case"keys":case"values":return function(){return new s(this,t)}}return function(){return new s(this,t)}},h=e+" Iterator",L="values"==m,w=!1,j=t.prototype,T=j[d]||j["@@iterator"]||m&&j[m],z=T||x(m),_=m?L?x("entries"):z:void 0,D="Array"==e&&j.entries||T;if(D&&(C=u(D.call(new t)))!==Object.prototype&&C.next&&(l(C,h,!0),r||"function"==typeof C[d]||n(C,d,f)),L&&T&&"values"!==T.name&&(w=!0,z=function(){return T.call(this)}),r&&!g||!v&&!w&&j[d]||n(j,d,z),o[e]=z,o[h]=f,m)if(N={values:L?z:x("values"),keys:M?z:x("keys"),entries:_},g)for(y in N)y in j||i(j,y,N[y]);else a(a.P+a.F*(v||w),e,N);return N}},zQR9:function(t,e,s){"use strict";var r=s("h65t")(!0);s("vIB/")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,s=this._i;return s>=e.length?{value:void 0,done:!0}:(t=r(e,s),this._i+=t.length,{value:t,done:!1})})}});
//# sourceMappingURL=1.1a0cf8ac8a5939171361.js.map