webpackJsonp([7],{"1BGB":function(t,e){},mrSL:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("woOf"),i=s.n(a),r=(s("v2ns"),s("7QTg")),n=s("7t+N"),c=s.n(n),l={name:"productlist",components:{swiper:r.swiper,swiperSlide:r.swiperSlide},data:function(){return{swiperOption:{slidesPerView:1,spaceBetween:10,loop:!0,speed:600,autoplay:{delay:5e3},pagination:{el:".swiper-pagination",dynamicBullets:!0}},products:[],filterData:[],isLoading:!1,pages:0,currentPage:0,menu:"全部商品"}},computed:{filterPagination:function(){var t=[];return this.filterData.forEach(function(e,s){s%6==0&&t.push([]);var a=parseInt(s/6);t[a].push(e)}),this.pages=t.length,this.currentPage=0,t}},methods:{filterCategories:function(t){var e=this;e.isLoading=!0,"all"===t?(e.filterData=e.products,e.menu="全部商品"):(e.filterData=e.products.filter(function(e){return e.category==t}),e.menu=t),setTimeout(function(){e.isLoading=!1},800)},is_sale:function(t){return parseInt(t.origin_price)>parseInt(t.sale_price)},chousePage:function(t,e){console.log(t,e);var s=c()(".menu").position();t?this.currentPage=t-1:e?this.currentPage+=1:this.currentPage-=1,c()("html, body").animate({scrollTop:s.top},600)},getProducts:function(){var t=this;t.isLoading=!0,this.$http.get("https://nameless-forest-65777.herokuapp.com/product?is_enabled=1").then(function(e){t.products=e.data,t.filterData=e.data,t.isLoading=!1})},getProduct:function(t){var e=this,s="https://nameless-forest-65777.herokuapp.com/product/"+t;this.$http.get(s).then(function(s){e.$router.push("/productdetail/"+t)})},addCart:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=this;s.isLoading=!0;var a=i()({},t);a.qty=e,a.id="",s.$http.post("https://nameless-forest-65777.herokuapp.com/cart",a).then(function(t){s.isLoading=!1,s.$bus.$emit("cartlength",{length:1})})}},created:function(){this.getProducts()}},o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("loading",{attrs:{loader:"bars",color:"#32312f",active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),t._v(" "),s("div",{staticClass:"product_list"},[s("swiper",{staticClass:"product_img",attrs:{options:t.swiperOption}},[s("swiper-slide",[s("div",{staticClass:"img_one"})]),t._v(" "),s("swiper-slide",[s("div",{staticClass:"img_two"})]),t._v(" "),s("swiper-slide",[s("div",{staticClass:"img_three"})]),t._v(" "),s("swiper-slide",[s("div",{staticClass:"img_four"})]),t._v(" "),s("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],1),t._v(" "),s("ul",{staticClass:"menu"},[s("li",[s("router-link",{attrs:{to:"/"}},[t._v("首頁")]),t._v(" "),t._m(0)],1),t._v(" "),s("li",[t._v(t._s(t.menu))])]),t._v(" "),s("div",{staticClass:"product_box"},[s("div",{staticClass:"categories"},[s("ul",{staticClass:"items"},[s("li",{staticClass:"all"},[s("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.filterCategories("all")}}},[t._v("全部商品")])]),t._v(" "),s("li",{staticClass:"item"},[s("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.filterCategories("典藏單品")}}},[t._v("典藏單品")])]),t._v(" "),s("li",{staticClass:"item"},[s("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.filterCategories("風味之選")}}},[t._v("風味之選")])]),t._v(" "),s("li",{staticClass:"item"},[s("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.filterCategories("義式濃縮")}}},[t._v("義式濃縮")])])])]),t._v(" "),s("div",{staticClass:"product_items"},[s("div",{staticClass:"item"},t._l(t.filterPagination[t.currentPage],function(e,a){return s("div",{key:e.id,staticClass:"product"},[s("div",{staticClass:"prod_content"},[s("div",{staticClass:"img",on:{click:function(s){return t.getProduct(e.id)}}},[e.is_newarrive?s("span",{staticClass:"new"},[t._v("NEW")]):t._e(),t._v(" "),t.is_sale(e)?s("span",{staticClass:"sale"},[t._v("SALE")]):t._e(),t._v(" "),s("img",{attrs:{src:e.imageUrl,alt:""}})]),t._v(" "),s("div",{staticClass:"prodTitle"},[s("p",[t._v(t._s(e.title))])]),t._v(" "),s("div",[s("span",{staticClass:"price",class:{originalPrice:t.is_sale(e)}},[t._v(t._s(t._f("currency")(e.origin_price)))]),t._v(" "),t.is_sale(e)?s("span",{staticClass:"salePrice"},[t._v(t._s(t._f("currency")(e.sale_price)))]):t._e()])]),t._v(" "),s("div",{staticClass:"btn",on:{click:function(s){return t.addCart(e)}}},[t._v("加入購物車")])])}),0),t._v(" "),s("nav",{attrs:{"aria-label":"Page navigation example"}},[t.pages?s("ul",{staticClass:"pagination mt-3 justify-content-center"},[s("li",{staticClass:"page-item",class:{disabled:0===t.currentPage}},[s("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(e){return e.preventDefault(),t.chousePage(!1,!1)}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("«")]),t._v(" "),s("span",{staticClass:"sr-only"},[t._v("Previous")])])]),t._v(" "),t._l(t.pages,function(e){return s("li",{key:e,staticClass:"page-item",class:{active:e-1===t.currentPage}},[s("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.chousePage(e)}}},[t._v(t._s(e))])])}),t._v(" "),s("li",{staticClass:"page-item",class:{disabled:t.currentPage===t.filterPagination.length-1}},[s("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(e){return e.preventDefault(),t.chousePage(!1,!0)}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("»")]),t._v(" "),s("span",{staticClass:"sr-only"},[t._v("Next")])])])],2):t._e()])])])],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"fas fa-chevron-right"})])}]};var u=s("VU/8")(l,o,!1,function(t){s("1BGB")},"data-v-c892b738",null);e.default=u.exports}});
//# sourceMappingURL=7.ccdd78c4991f7c5e5532.js.map