webpackJsonp([8],{"YDm+":function(t,e){},mrSL:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("woOf"),i=a.n(s),r=(a("v2ns"),a("7QTg")),n=a("7t+N"),c=a.n(n),l={name:"productlist",components:{swiper:r.swiper,swiperSlide:r.swiperSlide},data:function(){return{swiperOption:{slidesPerView:1,spaceBetween:10,loop:!0,speed:600,autoplay:{delay:5e3},pagination:{el:".swiper-pagination",dynamicBullets:!0}},products:[],filterData:[],isLoading:!1,pages:0,currentPage:0,menu:"全部商品"}},computed:{filterPagination:function(){var t=[];return this.filterData.forEach(function(e,a){a%6==0&&t.push([]);var s=parseInt(a/6);t[s].push(e)}),this.pages=t.length,this.currentPage=0,t}},methods:{filterCategories:function(t){var e=this;e.isLoading=!0,"all"===t?(e.filterData=e.products,e.menu="全部商品"):(e.filterData=e.products.filter(function(e){return e.category==t}),e.menu=t),setTimeout(function(){e.isLoading=!1},800)},is_sale:function(t){return parseInt(t.origin_price)>parseInt(t.sale_price)},chousePage:function(t,e){console.log(t,e);var a=c()(".menu").position();t?this.currentPage=t-1:e?this.currentPage+=1:this.currentPage-=1,c()("html, body").animate({scrollTop:a.top},600)},getProducts:function(){var t=this;t.isLoading=!0,this.$http.get("https://nameless-forest-65777.herokuapp.com/product?is_enabled=1").then(function(e){t.products=e.data,t.filterData=e.data,t.isLoading=!1})},getProduct:function(t){var e=this,a="https://nameless-forest-65777.herokuapp.com/product/"+t;this.$http.get(a).then(function(a){e.$router.push("/productdetail/"+t)})},addCart:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=this;a.isLoading=!0;var s=i()({},t);s.qty=e,s.id="",a.$http.post("https://nameless-forest-65777.herokuapp.com/cart",s).then(function(t){a.isLoading=!1,a.$bus.$emit("cartlength",{length:1})})}},created:function(){this.getProducts()}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("loading",{attrs:{loader:"bars",color:"#32312f",active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),t._v(" "),a("div",{staticClass:"product_list"},[a("swiper",{staticClass:"product_img",attrs:{options:t.swiperOption}},[a("swiper-slide",[a("div",{staticClass:"img_one"})]),t._v(" "),a("swiper-slide",[a("div",{staticClass:"img_two"})]),t._v(" "),a("swiper-slide",[a("div",{staticClass:"img_three"})]),t._v(" "),a("swiper-slide",[a("div",{staticClass:"img_four"})]),t._v(" "),a("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],1),t._v(" "),a("ul",{staticClass:"menu"},[a("li",[a("router-link",{attrs:{to:"/"}},[t._v("首頁")]),t._v(" "),t._m(0)],1),t._v(" "),a("li",[t._v(t._s(t.menu))])]),t._v(" "),a("div",{staticClass:"product_box"},[a("div",{staticClass:"categories"},[a("ul",{staticClass:"items"},[a("li",{staticClass:"all"},[a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.filterCategories("all")}}},[t._v("全部商品")])]),t._v(" "),a("li",{staticClass:"item"},[a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.filterCategories("典藏單品")}}},[t._v("典藏單品")])]),t._v(" "),a("li",{staticClass:"item"},[a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.filterCategories("風味之選")}}},[t._v("風味之選")])]),t._v(" "),a("li",{staticClass:"item"},[a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.filterCategories("義式濃縮")}}},[t._v("義式濃縮")])])])]),t._v(" "),a("div",{staticClass:"product_items"},[a("div",{staticClass:"item"},t._l(t.filterPagination[t.currentPage],function(e,s){return a("div",{key:e.id,staticClass:"product"},[a("div",{staticClass:"prod_content"},[a("div",{staticClass:"img",on:{click:function(a){return t.getProduct(e.id)}}},[e.is_newarrive?a("span",{staticClass:"new"},[t._v("NEW")]):t._e(),t._v(" "),t.is_sale(e)?a("span",{staticClass:"sale"},[t._v("SALE")]):t._e(),t._v(" "),a("img",{attrs:{src:e.imageUrl,alt:""}})]),t._v(" "),a("div",{staticClass:"prodTitle"},[a("p",[t._v(t._s(e.title))])]),t._v(" "),a("div",[a("span",{staticClass:"price",class:{originalPrice:t.is_sale(e)}},[t._v(t._s(t._f("currency")(e.origin_price)))]),t._v(" "),t.is_sale(e)?a("span",{staticClass:"salePrice"},[t._v(t._s(t._f("currency")(e.sale_price)))]):t._e()])]),t._v(" "),a("div",{staticClass:"btn",on:{click:function(a){return t.addCart(e)}}},[t._v("加入購物車")])])}),0),t._v(" "),a("nav",{attrs:{"aria-label":"Page navigation example"}},[t.pages?a("ul",{staticClass:"pagination mt-3 justify-content-center"},[a("li",{staticClass:"page-item",class:{disabled:0===t.currentPage}},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(e){return e.preventDefault(),t.chousePage(!1,!1)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("«")]),t._v(" "),a("span",{staticClass:"sr-only"},[t._v("Previous")])])]),t._v(" "),t._l(t.pages,function(e){return a("li",{key:e,staticClass:"page-item",class:{active:e-1===t.currentPage}},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.chousePage(e)}}},[t._v(t._s(e))])])}),t._v(" "),a("li",{staticClass:"page-item",class:{disabled:t.currentPage===t.filterPagination.length-1}},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(e){return e.preventDefault(),t.chousePage(!1,!0)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("»")]),t._v(" "),a("span",{staticClass:"sr-only"},[t._v("Next")])])])],2):t._e()])])])],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"fas fa-chevron-right"})])}]};var u=a("VU/8")(l,o,!1,function(t){a("YDm+")},"data-v-326c8a3d",null);e.default=u.exports}});
//# sourceMappingURL=8.73fa42582348c7fb5877.js.map